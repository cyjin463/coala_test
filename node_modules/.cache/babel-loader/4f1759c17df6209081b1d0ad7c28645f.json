{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _defineProperty from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2;import React from\"react\";import styled from\"styled-components\";import{useParams}from\"react-router\";import{useDispatch,useSelector}from\"react-redux\";import ImgUpload from\"./ImgUpload\";import{actionCreators as answerActions}from\"../redux/modules/answer\";import RoundBtn from\"../elements/RoundBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Answer=function Answer(_ref){var _ref$close=_ref.close,close=_ref$close===void 0?null:_ref$close,_ref$isEdit=_ref.isEdit,isEdit=_ref$isEdit===void 0?null:_ref$isEdit,_ref$list=_ref.list,list=_ref$list===void 0?null:_ref$list;var dispatch=useDispatch();var params=useParams().pid;var user_info=sessionStorage.getItem(\"uid\");var nickname=sessionStorage.getItem(\"nickname\");var _React$useState=React.useState(isEdit?list:{answerTitle:\"\",answerComment:\"\"}),_React$useState2=_slicedToArray(_React$useState,2),addAnswer=_React$useState2[0],setAddAnswer=_React$useState2[1];var answerTitle=addAnswer.answerTitle,answerComment=addAnswer.answerComment;var onChange=function onChange(e){var id=e.target.id;var content=e.target.value;setAddAnswer(_objectSpread(_objectSpread({},addAnswer),{},_defineProperty({},id,content)));};var answerSubmit=function answerSubmit(){dispatch(answerActions.addAnswerDB(_objectSpread({pid:params,uid:user_info},addAnswer)));setAddAnswer({answerTitle:\"\",answerComment:\"\"});};var editAnswer=function editAnswer(){dispatch(answerActions.editAnswerDB(_objectSpread({},addAnswer)));close(list.pid);};if(isEdit){return/*#__PURE__*/_jsxs(SC_Answer,{children:[/*#__PURE__*/_jsxs(SC_InputWrap,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uB2F5\\uBCC0 \\uC218\\uC815\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"input\",{id:\"answerTitle\",onChange:onChange,type:\"text\",value:answerTitle}),/*#__PURE__*/_jsx(\"textarea\",{id:\"answerComment\",onChange:onChange,type:\"text\",value:answerComment})]}),/*#__PURE__*/_jsx(ImgUpload,{isEdit:isEdit,editImg:list.answerImg}),/*#__PURE__*/_jsx(RoundBtn,{onClick:editAnswer,title:\"\\uC218\\uC815\"})]});}return/*#__PURE__*/_jsxs(SC_Answer,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\uB2F5\\uBCC0 \\uC791\\uC131\\uD558\\uAE30\"}),/*#__PURE__*/_jsxs(SC_InputWrap,{children:[/*#__PURE__*/_jsx(\"input\",{id:\"answerTitle\",value:answerTitle,onChange:onChange,type:\"text\",placeholder:\"\\uB2F5\\uBCC0 \\uC81C\\uBAA9 \\uC785\\uB825 \\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"answerComment\",value:answerComment,onChange:onChange,type:\"text\",placeholder:\"\\uB2F5\\uBCC0\\uC744 \\uC785\\uB825 \\uD574\\uC8FC\\uC138\\uC694\"})]}),/*#__PURE__*/_jsx(ImgUpload,{cleanImg:addAnswer.answerTitle}),/*#__PURE__*/_jsx(RoundBtn,{onClick:answerSubmit,title:\"\\uB4F1\\uB85D\"})]});};var SC_InputWrap=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  input {\\n    display: block;\\n    width: 100%;\\n    padding: 18px;\\n    margin-bottom: 10px;\\n    background-color: #f9f9f9;\\n    border-radius: 8px;\\n  }\\n\\n  textarea {\\n    width: 100%;\\n    height: 130px;\\n    padding: 18px 20px;\\n    background-color: #f9f9f9;\\n    border-radius: 8px;\\n  }\\n\"])));var SC_Answer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  margin-bottom: 24px;\\n  padding: 0 24px;\\n  background-color: #fff;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 20px 0 rgba(228, 226, 242, 0.45);\\n\\n  h5 {\\n    font-size: 20px;\\n    font-weight: 700;\\n    padding-top: 30px;\\n    padding-bottom: 16px;\\n  }\\n\\n  button {\\n    margin: 16px 0;\\n    margin-left: auto;\\n  }\\n\"])));export default Answer;","map":{"version":3,"sources":["/Users/cyj/sun/src/components/Answer.js"],"names":["React","styled","useParams","useDispatch","useSelector","ImgUpload","actionCreators","answerActions","RoundBtn","Answer","close","isEdit","list","dispatch","params","pid","user_info","sessionStorage","getItem","nickname","useState","answerTitle","answerComment","addAnswer","setAddAnswer","onChange","e","id","target","content","value","answerSubmit","addAnswerDB","uid","editAnswer","editAnswerDB","answerImg","SC_InputWrap","div","SC_Answer"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\n\nimport { useParams } from \"react-router\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ImgUpload from \"./ImgUpload\";\n\nimport { actionCreators as answerActions } from \"../redux/modules/answer\";\nimport RoundBtn from \"../elements/RoundBtn\";\n\nconst Answer = ({ close = null, isEdit = null, list = null }) => {\n  const dispatch = useDispatch();\n  const params = useParams().pid;\n  const user_info = sessionStorage.getItem(\"uid\");\n  const nickname = sessionStorage.getItem(\"nickname\");\n  const [addAnswer, setAddAnswer] = React.useState(\n    isEdit ? list : { answerTitle: \"\", answerComment: \"\" }\n  );\n  const { answerTitle, answerComment } = addAnswer;\n\n  const onChange = (e) => {\n    const id = e.target.id;\n    const content = e.target.value;\n\n    setAddAnswer({ ...addAnswer, [id]: content });\n  };\n\n  const answerSubmit = () => {\n    dispatch(\n      answerActions.addAnswerDB({ pid: params, uid: user_info, ...addAnswer })\n    );\n    setAddAnswer({ answerTitle: \"\", answerComment: \"\" });\n  };\n\n  const editAnswer = () => {\n    dispatch(\n      answerActions.editAnswerDB({\n        ...addAnswer,\n      })\n    );\n    close(list.pid);\n  };\n\n  if (isEdit) {\n    return (\n      <SC_Answer>\n        <SC_InputWrap>\n          <h5>답변 수정하기</h5>\n          <input\n            id='answerTitle'\n            onChange={onChange}\n            type='text'\n            value={answerTitle}\n          />\n          <textarea\n            id='answerComment'\n            onChange={onChange}\n            type='text'\n            value={answerComment}></textarea>\n        </SC_InputWrap>\n        <ImgUpload isEdit={isEdit} editImg={list.answerImg} />\n        <RoundBtn onClick={editAnswer} title='수정' />\n      </SC_Answer>\n    );\n  }\n\n  return (\n    <SC_Answer>\n      <h5>답변 작성하기</h5>\n      <SC_InputWrap>\n        <input\n          id='answerTitle'\n          value={answerTitle}\n          onChange={onChange}\n          type='text'\n          placeholder='답변 제목 입력 해주세요'\n        />\n        <textarea\n          id='answerComment'\n          value={answerComment}\n          onChange={onChange}\n          type='text'\n          placeholder='답변을 입력 해주세요'></textarea>\n      </SC_InputWrap>\n      <ImgUpload cleanImg={addAnswer.answerTitle} />\n      <RoundBtn onClick={answerSubmit} title='등록' />\n    </SC_Answer>\n  );\n};\n\nconst SC_InputWrap = styled.div`\n  input {\n    display: block;\n    width: 100%;\n    padding: 18px;\n    margin-bottom: 10px;\n    background-color: #f9f9f9;\n    border-radius: 8px;\n  }\n\n  textarea {\n    width: 100%;\n    height: 130px;\n    padding: 18px 20px;\n    background-color: #f9f9f9;\n    border-radius: 8px;\n  }\n`;\n\nconst SC_Answer = styled.div`\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 24px;\n  padding: 0 24px;\n  background-color: #fff;\n  border-radius: 8px;\n  box-shadow: 0 4px 20px 0 rgba(228, 226, 242, 0.45);\n\n  h5 {\n    font-size: 20px;\n    font-weight: 700;\n    padding-top: 30px;\n    padding-bottom: 16px;\n  }\n\n  button {\n    margin: 16px 0;\n    margin-left: auto;\n  }\n`;\nexport default Answer;\n"]},"metadata":{},"sourceType":"module"}