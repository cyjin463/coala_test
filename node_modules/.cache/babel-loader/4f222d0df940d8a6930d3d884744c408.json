{"ast":null,"code":"import _defineProperty from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";var _handleActions;import{createAction,handleActions}from\"redux-actions\";import produce from\"immer\";import{apis}from\"../../shared/api\";var TOTAL_RANKING=\"TOTAL_RANKING\";var MONTH_RANKING=\"MONTH_RANKING\";var WEEK_RANKING=\"WEEK_RANKING\";var USER_LIST=\"USER_LIST\";var initialState={list:[],user_list:[]};var totalRanking=createAction(TOTAL_RANKING,function(list){return{list:list};});var monthRanking=createAction(MONTH_RANKING,function(list){return{list:list};});var weekRanking=createAction(WEEK_RANKING,function(list){return{list:list};});var userList=createAction(USER_LIST,function(list){return{list:list};});// const myweekRanking = createAction(WEEK_RANKING, (list) => ({ list }));\n// const mymonthRanking = createAction(USER_LIST, (list) => ({ list }));\nvar totalRankingDB=function totalRankingDB(){return function(dispatch,getState,_ref){var history=_ref.history;apis.totalRanking().then(function(res){dispatch(totalRanking(res.data));}).catch(function(err){console.log(err);});};};var monthRankingDB=function monthRankingDB(){return function(dispatch,getState,_ref2){var history=_ref2.history;apis.totalRanking().then(function(res){dispatch(monthRanking(res.data));}).catch(function(err){console.log(err);});};};var weekRankingDB=function weekRankingDB(){return function(dispatch,getState,_ref3){var history=_ref3.history;apis.totalRanking().then(function(res){dispatch(weekRanking(res.data));}).catch(function(err){console.log(err);});};};var myTotalRankingDB=function myTotalRankingDB(){return function(dispatch,getState,_ref4){var history=_ref4.history;apis.mytotalRanking().then(function(res){dispatch(userList(res.data));}).catch(function(err){console.log(err);});};};var myMonthRankingDB=function myMonthRankingDB(){return function(dispatch,getState,_ref5){var history=_ref5.history;apis.mymonthRanking().then(function(res){dispatch(userList(res.data));}).catch(function(err){console.log(err);});};};var myWeekRankingDB=function myWeekRankingDB(){return function(dispatch,getState,_ref6){var history=_ref6.history;apis.myweekRanking().then(function(res){dispatch(userList(res.data));}).catch(function(err){console.log(err);});};};export default handleActions((_handleActions={},_defineProperty(_handleActions,TOTAL_RANKING,function(state,action){return produce(state,function(draft){draft.list=action.payload.list;});}),_defineProperty(_handleActions,MONTH_RANKING,function(state,action){return produce(state,function(draft){draft.list=action.payload.list;});}),_defineProperty(_handleActions,WEEK_RANKING,function(state,action){return produce(state,function(draft){draft.list=action.payload.list;});}),_defineProperty(_handleActions,USER_LIST,function(state,action){return produce(state,function(draft){draft.user_list=action.payload.list;});}),_handleActions),initialState);var actionCreators={totalRankingDB:totalRankingDB,monthRankingDB:monthRankingDB,weekRankingDB:weekRankingDB,myTotalRankingDB:myTotalRankingDB,myMonthRankingDB:myMonthRankingDB,myWeekRankingDB:myWeekRankingDB};export{actionCreators};","map":{"version":3,"sources":["/Users/cyj/sun/src/redux/modules/ranking.js"],"names":["createAction","handleActions","produce","apis","TOTAL_RANKING","MONTH_RANKING","WEEK_RANKING","USER_LIST","initialState","list","user_list","totalRanking","monthRanking","weekRanking","userList","totalRankingDB","dispatch","getState","history","then","res","data","catch","err","console","log","monthRankingDB","weekRankingDB","myTotalRankingDB","mytotalRanking","myMonthRankingDB","mymonthRanking","myWeekRankingDB","myweekRanking","state","action","draft","payload","actionCreators"],"mappings":"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","sourcesContent":["import { createAction, handleActions } from \"redux-actions\";\nimport produce from \"immer\";\n\nimport { apis } from \"../../shared/api\";\nconst TOTAL_RANKING = \"TOTAL_RANKING\";\nconst MONTH_RANKING = \"MONTH_RANKING\";\nconst WEEK_RANKING = \"WEEK_RANKING\";\nconst USER_LIST = \"USER_LIST\";\n\nconst initialState = {\n  list: [],\n  user_list: [],\n};\n\nconst totalRanking = createAction(TOTAL_RANKING, (list) => ({ list }));\nconst monthRanking = createAction(MONTH_RANKING, (list) => ({ list }));\nconst weekRanking = createAction(WEEK_RANKING, (list) => ({ list }));\nconst userList = createAction(USER_LIST, (list) => ({ list }));\n// const myweekRanking = createAction(WEEK_RANKING, (list) => ({ list }));\n// const mymonthRanking = createAction(USER_LIST, (list) => ({ list }));\nconst totalRankingDB = () => {\n  return function (dispatch, getState, { history }) {\n    apis\n      .totalRanking()\n      .then((res) => {\n        dispatch(totalRanking(res.data));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n};\nconst monthRankingDB = () => {\n  return function (dispatch, getState, { history }) {\n    apis\n      .totalRanking()\n      .then((res) => {\n        dispatch(monthRanking(res.data));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n};\nconst weekRankingDB = () => {\n  return function (dispatch, getState, { history }) {\n    apis\n      .totalRanking()\n      .then((res) => {\n        dispatch(weekRanking(res.data));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n};\n\nconst myTotalRankingDB = () => {\n  return function (dispatch, getState, { history }) {\n    apis\n      .mytotalRanking()\n      .then((res) => {\n        dispatch(userList(res.data));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n};\nconst myMonthRankingDB = () => {\n  return function (dispatch, getState, { history }) {\n    apis\n      .mymonthRanking()\n      .then((res) => {\n        dispatch(userList(res.data));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n};\n\nconst myWeekRankingDB = () => {\n  return function (dispatch, getState, { history }) {\n    apis\n      .myweekRanking()\n      .then((res) => {\n        dispatch(userList(res.data));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n};\n\nexport default handleActions(\n  {\n    [TOTAL_RANKING]: (state, action) =>\n      produce(state, (draft) => {\n        draft.list = action.payload.list;\n      }),\n    [MONTH_RANKING]: (state, action) =>\n      produce(state, (draft) => {\n        draft.list = action.payload.list;\n      }),\n    [WEEK_RANKING]: (state, action) =>\n      produce(state, (draft) => {\n        draft.list = action.payload.list;\n      }),\n    [USER_LIST]: (state, action) =>\n      produce(state, (draft) => {\n        draft.user_list = action.payload.list;\n      }),\n  },\n  initialState\n);\n\nconst actionCreators = {\n  totalRankingDB,\n  monthRankingDB,\n  weekRankingDB,\n  myTotalRankingDB,\n  myMonthRankingDB,\n  myWeekRankingDB,\n};\n\nexport { actionCreators };\n"]},"metadata":{},"sourceType":"module"}