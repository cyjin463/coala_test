{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import React from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{actionCreators as myActions}from\"../redux/modules/mypage\";import styled from\"styled-components\";import{history}from\"../redux/configureStore\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var TableList=function TableList(_ref){var currTab=_ref.currTab;var dispatch=useDispatch();var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),list=_React$useState2[0],setList=_React$useState2[1];var aram_list=useSelector(function(state){return state.mypage.list;});React.useEffect(function(){dispatch(myActions.myAlarmsDB());if(currTab===\"total\"){setList(\"토탈\");}else if(currTab===\"answer\"){setList(\"답변\");}else{setList(\"게시글\");}},[currTab]);var select_list=function select_list(){switch(currTab){case\"total\":return aram_list;case\"answer\":return aram_list.filter(function(v){return v.type===\"AnswerCreate\";});case\"choose\":return aram_list.filter(function(v){return v.type===\"AnswerChoose\";});default:return null;}};return/*#__PURE__*/_jsxs(TableListUl,{children:[select_list().length===0&&/*#__PURE__*/_jsx(\"li\",{className:\"no_list\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[list,\" \\uC54C\\uB9BC\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4 :)\"]})}),select_list().map(function(v,idx){var _v$createdAt;var date=(_v$createdAt=v.createdAt)===null||_v$createdAt===void 0?void 0:_v$createdAt.split(\".\")[0].replace(\"T\",\" \");return/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){history.push(\"detail/\".concat(v.pid));},children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\\"\",v.postTitle,\"\\\"\"]}),v.type===\"AnswerCreate\"&&/*#__PURE__*/_jsx(\"span\",{children:\"\\uB204\\uAD70\\uAC00 \\uB0B4 \\uAC8C\\uC2DC\\uAE00\\uC5D0 \\uB2F5\\uAE00\\uC744 \\uB0A8\\uACBC\\uC2B5\\uB2C8\\uB2E4.\"}),v.type===\"AnswerChoose\"&&/*#__PURE__*/_jsx(\"span\",{children:\"\\uB2F5\\uBCC0\\uC774 \\uCC44\\uD0DD\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"em\",{children:date})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){dispatch(myActions.myAlarmsDelDB(v.alarmId));},children:\"\\uC0AD\\uC81C\"})]},v.alarmId);})]});};export var TableListUl=styled.ul(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  min-height: 600px;\\n  .no_list {\\n    line-height: 400px;\\n  }\\n\\n  li {\\n    padding: 20px 64px;\\n    display: flex;\\n    align-items: center;\\n    text-align: center;\\n    color: #676767;\\n    border-bottom: solid 1px #ebebeb;\\n\\n    > div {\\n      display: flex;\\n      flex: auto;\\n    }\\n  }\\n\\n  strong {\\n    display: block;\\n    width: 100%;\\n    text-align: center;\\n    font-size: 30px;\\n  }\\n\\n  p {\\n    flex: 1;\\n    text-align: left;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n  }\\n\\n  span {\\n    flex: 1;\\n    text-align: left;\\n  }\\n\\n  em {\\n    width: 20%;\\n    font-size: 12px;\\n    font-style: normal;\\n    color: #c4c4c4;\\n  }\\n\\n  button {\\n    width: 94px;\\n    height: 30px;\\n    color: #fff;\\n    font-size: 16px;\\n    border-radius: 40px;\\n    background-color: #ddd;\\n  }\\n\"])));export default TableList;","map":{"version":3,"sources":["/Users/cyj/sun/src/components/TableList.js"],"names":["React","useDispatch","useSelector","actionCreators","myActions","styled","history","TableList","currTab","dispatch","useState","list","setList","aram_list","state","mypage","useEffect","myAlarmsDB","select_list","filter","v","type","length","map","idx","date","createdAt","split","replace","push","pid","postTitle","myAlarmsDelDB","alarmId","TableListUl","ul"],"mappings":"4OAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,cAAc,GAAIC,CAAAA,SAA3B,KAA4C,yBAA5C,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,OAAT,KAAwB,yBAAxB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,CACjC,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CACA,oBAAwBD,KAAK,CAACU,QAAN,EAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,GAAMC,CAAAA,SAAS,CAAGX,WAAW,CAAC,SAACY,KAAD,QAAWA,CAAAA,KAAK,CAACC,MAAN,CAAaJ,IAAxB,EAAD,CAA7B,CAEAX,KAAK,CAACgB,SAAN,CAAgB,UAAM,CACpBP,QAAQ,CAACL,SAAS,CAACa,UAAV,EAAD,CAAR,CACA,GAAIT,OAAO,GAAK,OAAhB,CAAyB,CACvBI,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,IAEO,IAAIJ,OAAO,GAAK,QAAhB,CAA0B,CAC/BI,OAAO,CAAC,IAAD,CAAP,CACD,CAFM,IAEA,CACLA,OAAO,CAAC,KAAD,CAAP,CACD,CACF,CATD,CASG,CAACJ,OAAD,CATH,EAWA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,OAAQV,OAAR,EACE,IAAK,OAAL,CACE,MAAOK,CAAAA,SAAP,CACF,IAAK,QAAL,CACE,MAAOA,CAAAA,SAAS,CAACM,MAAV,CAAiB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,GAAW,cAAlB,EAAjB,CAAP,CACF,IAAK,QAAL,CACE,MAAOR,CAAAA,SAAS,CAACM,MAAV,CAAiB,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACC,IAAF,GAAW,cAAlB,EAAjB,CAAP,CACF,QACE,MAAO,KAAP,CARJ,CAUD,CAXD,CAYA,mBACE,MAAC,WAAD,YACGH,WAAW,GAAGI,MAAd,GAAyB,CAAzB,eACC,WAAI,SAAS,CAAC,SAAd,uBACE,0BAASX,IAAT,qDADF,EAFJ,CAMGO,WAAW,GAAGK,GAAd,CAAkB,SAACH,CAAD,CAAII,GAAJ,CAAY,kBAC7B,GAAMC,CAAAA,IAAI,eAAGL,CAAC,CAACM,SAAL,uCAAG,aAAaC,KAAb,CAAmB,GAAnB,EAAwB,CAAxB,EAA2BC,OAA3B,CAAmC,GAAnC,CAAwC,GAAxC,CAAb,CAEA,mBACE,mCACE,aACE,OAAO,CAAE,kBAAM,CACbtB,OAAO,CAACuB,IAAR,kBAAuBT,CAAC,CAACU,GAAzB,GACD,CAHH,wBAIE,0BAAKV,CAAC,CAACW,SAAP,QAJF,CAKGX,CAAC,CAACC,IAAF,GAAW,cAAX,eACC,+HANJ,CAQGD,CAAC,CAACC,IAAF,GAAW,cAAX,eAA6B,wFARhC,cASE,oBAAKI,IAAL,EATF,GADF,cAYE,eACE,OAAO,CAAE,kBAAM,CACbhB,QAAQ,CAACL,SAAS,CAAC4B,aAAV,CAAwBZ,CAAC,CAACa,OAA1B,CAAD,CAAR,CACD,CAHH,0BAZF,GAASb,CAAC,CAACa,OAAX,CADF,CAqBD,CAxBA,CANH,GADF,CAkCD,CA9DD,CAgEA,MAAO,IAAMC,CAAAA,WAAW,CAAG7B,MAAM,CAAC8B,EAAV,24BAAjB,CAyDP,cAAe5B,CAAAA,SAAf","sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { actionCreators as myActions } from \"../redux/modules/mypage\";\nimport styled from \"styled-components\";\nimport { history } from \"../redux/configureStore\";\n\nconst TableList = ({ currTab }) => {\n  const dispatch = useDispatch();\n  const [list, setList] = React.useState();\n  const aram_list = useSelector((state) => state.mypage.list);\n\n  React.useEffect(() => {\n    dispatch(myActions.myAlarmsDB());\n    if (currTab === \"total\") {\n      setList(\"토탈\");\n    } else if (currTab === \"answer\") {\n      setList(\"답변\");\n    } else {\n      setList(\"게시글\");\n    }\n  }, [currTab]);\n\n  const select_list = () => {\n    switch (currTab) {\n      case \"total\":\n        return aram_list;\n      case \"answer\":\n        return aram_list.filter((v) => v.type === \"AnswerCreate\");\n      case \"choose\":\n        return aram_list.filter((v) => v.type === \"AnswerChoose\");\n      default:\n        return null;\n    }\n  };\n  return (\n    <TableListUl>\n      {select_list().length === 0 && (\n        <li className='no_list'>\n          <strong>{list} 알림이 없습니다 :)</strong>\n        </li>\n      )}\n      {select_list().map((v, idx) => {\n        const date = v.createdAt?.split(\".\")[0].replace(\"T\", \" \");\n\n        return (\n          <li key={v.alarmId}>\n            <div\n              onClick={() => {\n                history.push(`detail/${v.pid}`);\n              }}>\n              <p>\"{v.postTitle}\"</p>\n              {v.type === \"AnswerCreate\" && (\n                <span>누군가 내 게시글에 답글을 남겼습니다.</span>\n              )}\n              {v.type === \"AnswerChoose\" && <span>답변이 채택되었습니다.</span>}\n              <em>{date}</em>\n            </div>\n            <button\n              onClick={() => {\n                dispatch(myActions.myAlarmsDelDB(v.alarmId));\n              }}>\n              삭제\n            </button>\n          </li>\n        );\n      })}\n    </TableListUl>\n  );\n};\n\nexport const TableListUl = styled.ul`\n  min-height: 600px;\n  .no_list {\n    line-height: 400px;\n  }\n\n  li {\n    padding: 20px 64px;\n    display: flex;\n    align-items: center;\n    text-align: center;\n    color: #676767;\n    border-bottom: solid 1px #ebebeb;\n\n    > div {\n      display: flex;\n      flex: auto;\n    }\n  }\n\n  strong {\n    display: block;\n    width: 100%;\n    text-align: center;\n    font-size: 30px;\n  }\n\n  p {\n    flex: 1;\n    text-align: left;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  span {\n    flex: 1;\n    text-align: left;\n  }\n\n  em {\n    width: 20%;\n    font-size: 12px;\n    font-style: normal;\n    color: #c4c4c4;\n  }\n\n  button {\n    width: 94px;\n    height: 30px;\n    color: #fff;\n    font-size: 16px;\n    border-radius: 40px;\n    background-color: #ddd;\n  }\n`;\n\nexport default TableList;\n"]},"metadata":{},"sourceType":"module"}