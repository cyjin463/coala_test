{"ast":null,"code":"import _defineProperty from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";var _handleActions;import{createAction,handleActions}from\"redux-actions\";import produce from\"immer\";import{apis}from\"../../shared/api\";var MY_ALAMS=\"MY_ALAMS\";var MY_ALAMS_DEL=\"MY_ALAMS_DEL\";var MY_LIKE_POST=\"MY_LIKE_POST\";var myAlarms=createAction(MY_ALAMS,function(list){return{list:list};});var myAlarmsDel=createAction(MY_ALAMS_DEL,function(list){return{list:list};});var myMyLikePost=createAction(MY_LIKE_POST,function(list){return{list:list};});var initialState={list:[]};var myAlarmsDB=function myAlarmsDB(){return function(dispatch,getState,_ref){var history=_ref.history;apis.myalarm().then(function(res){dispatch(myAlarms(res.data));});};};var myAlarmsDelDB=function myAlarmsDelDB(alarmId){return function(dispatch,getState,_ref2){var history=_ref2.history;apis.myalarmdel(alarmId).then(function(){var _aram_list=getState().mypage.list;var aram_list=_aram_list.filter(function(v){return v.alarmId!==alarmId;});dispatch(myAlarmsDel(aram_list));});};};var myLikePostDB=function myLikePostDB(page){return function(dispatch,getState,_ref3){var history=_ref3.history;console.log(page);apis.mylikepost(page).then(function(res){dispatch(myAlarms(res.data));}).catch(function(err){console.log(err);});};};export default handleActions((_handleActions={},_defineProperty(_handleActions,MY_ALAMS,function(state,action){return produce(state,function(draft){draft.list=action.payload.list;});}),_defineProperty(_handleActions,MY_ALAMS_DEL,function(state,action){return produce(state,function(draft){draft.list=action.payload.list;});}),_defineProperty(_handleActions,MY_LIKE_POST,function(state,action){return produce(state,function(draft){draft.list=action.payload.list;});}),_handleActions),initialState);var actionCreators={myAlarmsDB:myAlarmsDB,myAlarmsDelDB:myAlarmsDelDB,myLikePostDB:myLikePostDB};export{actionCreators};","map":{"version":3,"sources":["/Users/cyj/sun/src/redux/modules/mypage.js"],"names":["createAction","handleActions","produce","apis","MY_ALAMS","MY_ALAMS_DEL","MY_LIKE_POST","myAlarms","list","myAlarmsDel","myMyLikePost","initialState","myAlarmsDB","dispatch","getState","history","myalarm","then","res","data","myAlarmsDelDB","alarmId","myalarmdel","_aram_list","mypage","aram_list","filter","v","myLikePostDB","page","console","log","mylikepost","catch","err","state","action","draft","payload","actionCreators"],"mappings":"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","sourcesContent":["import { createAction, handleActions } from \"redux-actions\";\nimport produce from \"immer\";\nimport { apis } from \"../../shared/api\";\n\nconst MY_ALAMS = \"MY_ALAMS\";\nconst MY_ALAMS_DEL = \"MY_ALAMS_DEL\";\nconst MY_LIKE_POST = \"MY_LIKE_POST\";\n\nconst myAlarms = createAction(MY_ALAMS, (list) => ({ list }));\nconst myAlarmsDel = createAction(MY_ALAMS_DEL, (list) => ({ list }));\nconst myMyLikePost = createAction(MY_LIKE_POST, (list) => ({ list }));\n\nconst initialState = {\n  list: [],\n};\n\nconst myAlarmsDB = () => {\n  return function (dispatch, getState, { history }) {\n    apis.myalarm().then((res) => {\n      dispatch(myAlarms(res.data));\n    });\n  };\n};\n\nconst myAlarmsDelDB = (alarmId) => {\n  return function (dispatch, getState, { history }) {\n    apis.myalarmdel(alarmId).then(() => {\n      const _aram_list = getState().mypage.list;\n      const aram_list = _aram_list.filter((v) => v.alarmId !== alarmId);\n      dispatch(myAlarmsDel(aram_list));\n    });\n  };\n};\n\nconst myLikePostDB = (page) => {\n  return function (dispatch, getState, { history }) {\n    console.log(page);\n    apis\n      .mylikepost(page)\n      .then((res) => {\n        dispatch(myAlarms(res.data));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n};\n\nexport default handleActions(\n  {\n    [MY_ALAMS]: (state, action) =>\n      produce(state, (draft) => {\n        draft.list = action.payload.list;\n      }),\n    [MY_ALAMS_DEL]: (state, action) =>\n      produce(state, (draft) => {\n        draft.list = action.payload.list;\n      }),\n    [MY_LIKE_POST]: (state, action) =>\n      produce(state, (draft) => {\n        draft.list = action.payload.list;\n      }),\n  },\n  initialState\n);\n\nconst actionCreators = {\n  myAlarmsDB,\n  myAlarmsDelDB,\n  myLikePostDB,\n};\n\nexport { actionCreators };\n"]},"metadata":{},"sourceType":"module"}