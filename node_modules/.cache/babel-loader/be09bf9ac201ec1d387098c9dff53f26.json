{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/Users/cyj/sun/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject;import React,{useEffect,useState}from\"react\";import styled from\"styled-components\";import Swal from\"sweetalert2\";import{useSelector,useDispatch}from\"react-redux\";import{actionCreators as passWordAction}from\"../redux/modules/user\";import{useParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var uid=sessionStorage.getItem(\"uid\");var Password=function Password(){var dispatch=useDispatch();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),newPassword=_useState4[0],setnewPassWord=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),checkPassWord=_useState6[0],setCheckPassWord=_useState6[1];var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),newPasswordRuleCheck=_React$useState2[0],setNewPasswordRuleCheck=_React$useState2[1];var Pass=function Pass(e){var password=e.target.value;setPassword(password);};var NewPass=function NewPass(e){var rule=/^(?=.*\\d)(?=.*[a-zA-Z])[0-9a-zA-Z]{4,10}$/;var newPassword=e.target.value;setnewPassWord(newPassword);rule.test(newPassword)?setNewPasswordRuleCheck(true):setNewPasswordRuleCheck(false);console.log(newPasswordRuleCheck);};var CheckPass=function CheckPass(e){setCheckPassWord(e.target.value);console.log(checkPassWord);};/////////////////입력한 현재비밀번호가 맞는지 확인해야함\nvar NewPassWord=function NewPassWord(){if(password===newPassword){Swal.fire(\"\",\"새비밀번호가 현재비밀번호와 동일합니다.\",\"error\");return;}else if(newPasswordRuleCheck===false){Swal.fire(\"\",\"새비밀번호 형식이 맞지않습니다.\",\"error\");return;}else if(newPassword!==checkPassWord){Swal.fire(\"\",\"입력하신 새비밀번호가 일치하지않습니다.\",\"error\");return;}else{Swal.fire({title:\"수정하시겠습니까?\",icon:\"warning\",showCancelButton:true,confirmButtonText:\"네 수정하겠습니다.\",confirmButtonColor:\"#7966FF\",cancelButtonText:\"아니오\",cancelTextColor:\"#7966FF\"}).then(function(result){if(result.isConfirmed){dispatch(passWordAction.NewPassWordDB(uid,password,newPassword,checkPassWord));Swal.fire(\"\",\"수정 되었습니다.\",\"success\");}else if(result.dismiss===Swal.DismissReason.cancel){Swal.fire(\"\",\"수정이 취소 되었습니다 :)\",\"error\");}});}};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"title\",children:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uC7AC\\uC124\\uC815\"}),/*#__PURE__*/_jsx(\"div\",{className:\"user\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\uD604\\uC7AC \\uBE44\\uBC00\\uBC88\\uD638\",onChange:Pass})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\uC0C8\\uB85C\\uC6B4 \\uBE44\\uBC00\\uBC88\\uD638\",onChange:NewPass}),newPassword.length>0&&!newPasswordRuleCheck&&/*#__PURE__*/_jsx(\"span\",{className:\"rule\",children:\"*\\uC601\\uBB38 \\uC22B\\uC790 \\uC870\\uD569 4\\uC790 \\uC774\\uC0C1 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"\\uC0C8\\uB85C\\uC6B4 \\uBE44\\uBC00\\uBC88\\uD638 \\uC7AC\\uD655\\uC778\",onChange:CheckPass}),checkPassWord.length>0&&checkPassWord!==newPassword&&/*#__PURE__*/_jsx(\"span\",{className:\"rule\",children:\"*\\uC77C\\uCE58\\uD558\\uC9C0\\uC54A\\uB294 \\uBE44\\uBC00\\uBC88\\uD638\\uC785\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:NewPassWord,children:\"\\uC800\\uC7A5\\uD558\\uAE30\"})]})})]});};var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 1440px;\\n  height: 830px;\\n  margin: auto;\\n  > div.title {\\n    width: 160px;\\n    height: 35px;\\n    font-size: 24px;\\n    font-weight: 600;\\n  }\\n  > div.user {\\n    width: 500px;\\n    height: 100%;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    margin: auto;\\n    > div.inputBox {\\n      width: 500px;\\n      height: 312px;\\n      display: flex;\\n      flex-direction: column;\\n      justify-content: space-evenly;\\n      div {\\n        width: 100%;\\n        height: 72px;\\n        display: flex;\\n        flex-direction: column;\\n        position: relative;\\n        justify-content: end;\\n        background-color: #f9f8ff;\\n        border-radius: 0.5rem;\\n        padding: 15px;\\n        > span.rule {\\n          color: red;\\n          font-size: 12px;\\n          position: absolute;\\n          justify-content: start;\\n          padding-left: 15px;\\n        }\\n        > input {\\n          width: 100%;\\n          height: 72px;\\n          border-radius: 0.5rem;\\n          font-size: 16px;\\n          font-weight: 600;\\n          outline: 0;\\n          background-color: #f9f8ff;\\n        }\\n      }\\n      > input {\\n        width: 500px;\\n        height: 72px;\\n        border-radius: 0.5rem;\\n        background-color: #f9f8ff;\\n      }\\n      > button {\\n        width: 500px;\\n        height: 72px;\\n        color: #f9f8ff;\\n        background-color: #7966ff;\\n        border-radius: 0.5rem;\\n      }\\n    }\\n  }\\n\"])));export default Password;","map":{"version":3,"sources":["/Users/cyj/sun/src/page/Password.js"],"names":["React","useEffect","useState","styled","Swal","useSelector","useDispatch","actionCreators","passWordAction","useParams","uid","sessionStorage","getItem","Password","dispatch","password","setPassword","newPassword","setnewPassWord","checkPassWord","setCheckPassWord","newPasswordRuleCheck","setNewPasswordRuleCheck","Pass","e","target","value","NewPass","rule","test","console","log","CheckPass","NewPassWord","fire","title","icon","showCancelButton","confirmButtonText","confirmButtonColor","cancelButtonText","cancelTextColor","then","result","isConfirmed","NewPassWordDB","dismiss","DismissReason","cancel","length","Container","div"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport Swal from \"sweetalert2\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { actionCreators as passWordAction } from \"../redux/modules/user\";\nimport { useParams } from \"react-router-dom\";\n\nconst uid = sessionStorage.getItem(\"uid\");\n\nconst Password = () => {\n  const dispatch = useDispatch();\n  const [password, setPassword] = useState(\"\");\n  const [newPassword, setnewPassWord] = useState(\"\");\n  const [checkPassWord, setCheckPassWord] = useState(\"\");\n\n  const [newPasswordRuleCheck, setNewPasswordRuleCheck] = React.useState(false);\n\n  const Pass = (e) => {\n    const password = e.target.value;\n    setPassword(password);\n  };\n\n  const NewPass = (e) => {\n    const rule = /^(?=.*\\d)(?=.*[a-zA-Z])[0-9a-zA-Z]{4,10}$/;\n    const newPassword = e.target.value;\n    setnewPassWord(newPassword);\n    rule.test(newPassword)\n      ? setNewPasswordRuleCheck(true)\n      : setNewPasswordRuleCheck(false);\n    console.log(newPasswordRuleCheck);\n  };\n\n  const CheckPass = (e) => {\n    setCheckPassWord(e.target.value);\n    console.log(checkPassWord);\n  };\n\n  /////////////////입력한 현재비밀번호가 맞는지 확인해야함\n  const NewPassWord = () => {\n    if (password === newPassword) {\n      Swal.fire(\"\", \"새비밀번호가 현재비밀번호와 동일합니다.\", \"error\");\n      return;\n    } else if (newPasswordRuleCheck === false) {\n      Swal.fire(\"\", \"새비밀번호 형식이 맞지않습니다.\", \"error\");\n      return;\n    } else if (newPassword !== checkPassWord) {\n      Swal.fire(\"\", \"입력하신 새비밀번호가 일치하지않습니다.\", \"error\");\n      return;\n    } else {\n      Swal.fire({\n        title: \"수정하시겠습니까?\",\n        icon: \"warning\",\n        showCancelButton: true,\n        confirmButtonText: \"네 수정하겠습니다.\",\n        confirmButtonColor: \"#7966FF\",\n        cancelButtonText: \"아니오\",\n        cancelTextColor: \"#7966FF\",\n      }).then((result) => {\n        if (result.isConfirmed) {\n          dispatch(\n            passWordAction.NewPassWordDB(\n              uid,\n              password,\n              newPassword,\n              checkPassWord\n            )\n          );\n          Swal.fire(\"\", \"수정 되었습니다.\", \"success\");\n        } else if (result.dismiss === Swal.DismissReason.cancel) {\n          Swal.fire(\"\", \"수정이 취소 되었습니다 :)\", \"error\");\n        }\n      });\n    }\n  };\n\n  return (\n    <Container>\n      <div className='title'>비밀번호 재설정</div>\n      <div className='user'>\n        <div className='inputBox'>\n          <div>\n            <input\n              type='password'\n              placeholder='현재 비밀번호'\n              onChange={Pass}\n            />\n          </div>\n\n          <div>\n            <input\n              type='password'\n              placeholder='새로운 비밀번호'\n              onChange={NewPass}\n            />\n            {newPassword.length > 0 && !newPasswordRuleCheck && (\n              <span className='rule'>\n                *영문 숫자 조합 4자 이상 입력해주세요.\n              </span>\n            )}\n          </div>\n\n          <div>\n            <input\n              type='password'\n              placeholder='새로운 비밀번호 재확인'\n              onChange={CheckPass}\n            />\n            {checkPassWord.length > 0 && checkPassWord !== newPassword && (\n              <span className='rule'>*일치하지않는 비밀번호입니다.</span>\n            )}\n          </div>\n\n          <button onClick={NewPassWord}>저장하기</button>\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  width: 1440px;\n  height: 830px;\n  margin: auto;\n  > div.title {\n    width: 160px;\n    height: 35px;\n    font-size: 24px;\n    font-weight: 600;\n  }\n  > div.user {\n    width: 500px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: auto;\n    > div.inputBox {\n      width: 500px;\n      height: 312px;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-evenly;\n      div {\n        width: 100%;\n        height: 72px;\n        display: flex;\n        flex-direction: column;\n        position: relative;\n        justify-content: end;\n        background-color: #f9f8ff;\n        border-radius: 0.5rem;\n        padding: 15px;\n        > span.rule {\n          color: red;\n          font-size: 12px;\n          position: absolute;\n          justify-content: start;\n          padding-left: 15px;\n        }\n        > input {\n          width: 100%;\n          height: 72px;\n          border-radius: 0.5rem;\n          font-size: 16px;\n          font-weight: 600;\n          outline: 0;\n          background-color: #f9f8ff;\n        }\n      }\n      > input {\n        width: 500px;\n        height: 72px;\n        border-radius: 0.5rem;\n        background-color: #f9f8ff;\n      }\n      > button {\n        width: 500px;\n        height: 72px;\n        color: #f9f8ff;\n        background-color: #7966ff;\n        border-radius: 0.5rem;\n      }\n    }\n  }\n`;\n\nexport default Password;\n"]},"metadata":{},"sourceType":"module"}