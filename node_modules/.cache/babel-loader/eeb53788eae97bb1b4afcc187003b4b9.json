{"ast":null,"code":"var _jsxFileName = \"/Users/cyj/sun/src/page/Detail.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport Comment from \"../components/Comment\";\nimport { useParams } from \"react-router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { actionCreators as postActions } from \"../redux/modules/post\";\nimport { actionCreators as answerActions } from \"../redux/modules/answer\";\nimport { actionsCreators as searchActions } from \"../redux/modules/serch\";\nimport Swal from \"sweetalert2\";\nimport { history } from \"../redux/configureStore\";\nimport Answer from \"../components/Answer\";\nimport AnswerList from \"../components/AnswerList\";\nimport Profile from \"../elements/Profile\";\nimport user from \"../redux/modules/user\";\nimport Postchat from \"../components/Postchat\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Detail = () => {\n  _s();\n\n  var _post_one$createdAt, _post_one$tag;\n\n  const dispatch = useDispatch();\n  const pid = useParams().pid;\n  const post_one = useSelector(state => state.post.one_list);\n  const user_info = sessionStorage.getItem(\"uid\");\n\n  const delPost = () => {\n    Swal.fire({\n      title: \"게시글을 삭제하시겠습니까?\",\n      text: \"삭제된 게시물은 다시 복구할 수 없습니다.\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"네 삭제하겠습니다.\",\n      confirmButtonColor: \"#7966FF\",\n      cancelButtonText: \"아니오\",\n      cancelTextColor: \"#7966FF\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        Swal.fire(\"\", \"게시글이 삭제 되었습니다.\", \"success\");\n        dispatch(postActions.delPostDB(pid));\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\n        Swal.fire(\"\", \"삭제가 취소 되었습니다 :)\", \"error\");\n      }\n    });\n  };\n\n  const likebtn = () => {\n    if (!user_info) {\n      alert(\"로그인 후 이용해주세요\");\n    } else {\n      dispatch(postActions.postLikeDB(user_info, pid));\n    }\n  };\n\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n    dispatch(answerActions.getAnswerDB(pid));\n    dispatch(postActions.getOnePostDB(pid));\n  }, []); // const date = post_one.createdAt?.split(\".\")[0].split(\"T\").join(\" \");\n\n  const date = (_post_one$createdAt = post_one.createdAt) === null || _post_one$createdAt === void 0 ? void 0 : _post_one$createdAt.split(\"T\")[0];\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"post_wrap\",\n      children: [/*#__PURE__*/_jsxDEV(Question, {\n        children: [/*#__PURE__*/_jsxDEV(Top, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              children: post_one.postTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category\",\n              onClick: () => {\n                history.push(`/search/category_${post_one.category}`);\n              },\n              children: post_one.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"post_info\",\n            children: [/*#__PURE__*/_jsxDEV(\"dl\", {\n              className: \"user_info\",\n              children: [/*#__PURE__*/_jsxDEV(\"dt\", {\n                children: /*#__PURE__*/_jsxDEV(Profile, {\n                  size: \"24\",\n                  migUrl: post_one.userImage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"dd\", {\n                children: post_one.nickname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"em\", {\n              children: date\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              children: [\"\\uAD00\\uC2EC \", post_one.postLikeCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ContextWrap, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-wrap\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: post_one.postComment\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 15\n            }, this), post_one.postImg && /*#__PURE__*/_jsxDEV(\"img\", {\n              src: post_one.postImg\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 36\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"btn_wrap\",\n            children: [/*#__PURE__*/_jsxDEV(TagUl, {\n              children: (_post_one$tag = post_one.tag) === null || _post_one$tag === void 0 ? void 0 : _post_one$tag.map((v, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => {\n                  history.push(`/search/tag_${v}`);\n                },\n                children: [\"#\", v]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), Number(user_info) === post_one.uid ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                styled: {\n                  fontSize: \"40px\"\n                },\n                onClick: delPost,\n                children: \"\\uC0AD\\uC81C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                styled: {\n                  fontSize: \"40px\"\n                },\n                onClick: () => {\n                  history.push(`/edit/${pid}`);\n                },\n                children: \"\\uC218\\uC815\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: likebtn,\n              children: [\"\\uAD00\\uC2EC \", post_one.postLikeCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), user_info && /*#__PURE__*/_jsxDEV(Answer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(AnswerList, {\n        isWriter: post_one.uid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Postchat, {\n      pid: pid\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Detail, \"+HhkXNawF1xQ/sQgd8/Ex+tZ3pY=\", false, function () {\n  return [useDispatch, useParams, useSelector];\n});\n\n_c = Detail;\nconst Container = styled.div`\n  display: flex;\n  gap: 22px;\n  max-width: 1440px;\n  margin: 0 auto;\n\n  .post_wrap {\n    width: calc(100% - 342px - 22px);\n  }\n`;\n_c2 = Container;\nconst Question = styled.div`\n  background-color: #fff;\n  border-radius: 8px;\n  margin-bottom: 24px;\n  box-shadow: 0 4px 20px 0 rgba(228, 226, 242, 0.45);\n`;\n_c3 = Question;\nconst Top = styled.div`\n  padding: 30px 24px;\n  border-bottom: solid 1px #dadada;\n\n  h2 {\n    font-size: 20px;\n    word-break: break-all;\n  }\n\n  > div {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .header {\n    padding-bottom: 26px;\n\n    span {\n      cursor: pointer;\n    }\n  }\n\n  .category {\n    --cate-color: #797979;\n    font-size: 12px;\n    color: var(--cate-color);\n    border: solid 1px var(--cate-color);\n    margin-left: 10px;\n    padding: 8px 12px;\n    border-radius: 20px;\n  }\n\n  .post_info {\n    --main-color: #c4c4c4;\n    justify-content: flex-end;\n    color: var(--main-color);\n    font-weight: 700;\n\n    span {\n      vertical-align: middle;\n    }\n\n    em {\n      padding: 0 16px;\n      margin: 0 16px;\n      font-style: normal;\n      border-left: solid 1px var(--main-color);\n      border-right: solid 1px var(--main-color);\n    }\n  }\n\n  .user_info {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n`;\n_c4 = Top;\nconst ContextWrap = styled.div`\n  padding: 24px;\n\n  .text-wrap {\n    min-height: 250px;\n\n    > *:not(style) {\n      margin-bottom: 10px;\n    }\n  }\n\n  p {\n    word-break: break-all;\n  }\n\n  .btn_wrap {\n    display: flex;\n    align-items: center;\n\n    ul {\n      margin-right: auto;\n    }\n\n    button {\n      padding: 10px 16px;\n      color: #7966ff;\n      font-size: 16px;\n    }\n  }\n`;\n_c5 = ContextWrap;\nconst TagUl = styled.ul`\n  --main-color: #797979;\n\n  display: inline-flex;\n  color: var(--main-color);\n  font-size: 14px;\n\n  li {\n    padding: 6px 10px;\n    margin-right: 10px;\n    border-radius: 30px;\n    border: solid 1px var(--main-color);\n    cursor: pointer;\n  }\n`;\n_c6 = TagUl;\nexport default Detail;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Detail\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"Question\");\n$RefreshReg$(_c4, \"Top\");\n$RefreshReg$(_c5, \"ContextWrap\");\n$RefreshReg$(_c6, \"TagUl\");","map":{"version":3,"sources":["/Users/cyj/sun/src/page/Detail.js"],"names":["React","styled","Comment","useParams","useSelector","useDispatch","actionCreators","postActions","answerActions","actionsCreators","searchActions","Swal","history","Answer","AnswerList","Profile","user","Postchat","Detail","dispatch","pid","post_one","state","post","one_list","user_info","sessionStorage","getItem","delPost","fire","title","text","icon","showCancelButton","confirmButtonText","confirmButtonColor","cancelButtonText","cancelTextColor","then","result","isConfirmed","delPostDB","dismiss","DismissReason","cancel","likebtn","alert","postLikeDB","useEffect","window","scrollTo","getAnswerDB","getOnePostDB","date","createdAt","split","postTitle","push","category","userImage","nickname","postLikeCount","postComment","postImg","tag","map","v","idx","Number","uid","fontSize","Container","div","Question","Top","ContextWrap","TagUl","ul"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styled from \"styled-components\";\nimport Comment from \"../components/Comment\";\nimport { useParams } from \"react-router\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { actionCreators as postActions } from \"../redux/modules/post\";\nimport { actionCreators as answerActions } from \"../redux/modules/answer\";\nimport { actionsCreators as searchActions } from \"../redux/modules/serch\";\nimport Swal from \"sweetalert2\";\n\nimport { history } from \"../redux/configureStore\";\nimport Answer from \"../components/Answer\";\nimport AnswerList from \"../components/AnswerList\";\nimport Profile from \"../elements/Profile\";\nimport user from \"../redux/modules/user\";\nimport Postchat from \"../components/Postchat\";\n\nconst Detail = () => {\n  const dispatch = useDispatch();\n  const pid = useParams().pid;\n  const post_one = useSelector((state) => state.post.one_list);\n  const user_info = sessionStorage.getItem(\"uid\");\n  const delPost = () => {\n    Swal.fire({\n      title: \"게시글을 삭제하시겠습니까?\",\n      text: \"삭제된 게시물은 다시 복구할 수 없습니다.\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"네 삭제하겠습니다.\",\n      confirmButtonColor: \"#7966FF\",\n      cancelButtonText: \"아니오\",\n      cancelTextColor: \"#7966FF\",\n    }).then((result) => {\n      if (result.isConfirmed) {\n        Swal.fire(\"\", \"게시글이 삭제 되었습니다.\", \"success\");\n        dispatch(postActions.delPostDB(pid));\n      } else if (result.dismiss === Swal.DismissReason.cancel) {\n        Swal.fire(\"\", \"삭제가 취소 되었습니다 :)\", \"error\");\n      }\n    });\n  };\n\n  const likebtn = () => {\n    if (!user_info) {\n      alert(\"로그인 후 이용해주세요\");\n    } else {\n      dispatch(postActions.postLikeDB(user_info, pid));\n    }\n  };\n\n  React.useEffect(() => {\n    window.scrollTo(0, 0);\n    dispatch(answerActions.getAnswerDB(pid));\n    dispatch(postActions.getOnePostDB(pid));\n  }, []);\n  // const date = post_one.createdAt?.split(\".\")[0].split(\"T\").join(\" \");\n  const date = post_one.createdAt?.split(\"T\")[0];\n\n  return (\n    <Container>\n      <div className='post_wrap'>\n        <Question>\n          <Top>\n            <div className='header'>\n              <h2>{post_one.postTitle}</h2>\n              <span\n                className='category'\n                onClick={() => {\n                  history.push(`/search/category_${post_one.category}`);\n                }}>\n                {post_one.category}\n              </span>\n            </div>\n            <div className='post_info'>\n              <dl className='user_info'>\n                <dt>\n                  <Profile size='24' migUrl={post_one.userImage} />\n                </dt>\n                <dd>{post_one.nickname}</dd>\n              </dl>\n              <em>{date}</em>\n              <i>관심 {post_one.postLikeCount}</i>\n            </div>\n          </Top>\n          <ContextWrap>\n            <div className='text-wrap'>\n              <p>{post_one.postComment}</p>\n              {post_one.postImg && <img src={post_one.postImg} />}\n            </div>\n\n            <div className='btn_wrap'>\n              <TagUl>\n                {post_one.tag?.map((v, idx) => (\n                  <li\n                    key={idx}\n                    onClick={() => {\n                      history.push(`/search/tag_${v}`);\n                    }}>\n                    #{v}\n                  </li>\n                ))}\n              </TagUl>\n              {Number(user_info) === post_one.uid ? (\n                <>\n                  <button styled={{ fontSize: \"40px\" }} onClick={delPost}>\n                    삭제\n                  </button>\n                  <button\n                    styled={{ fontSize: \"40px\" }}\n                    onClick={() => {\n                      history.push(`/edit/${pid}`);\n                    }}>\n                    수정\n                  </button>\n                </>\n              ) : (\n                <button onClick={likebtn}>관심 {post_one.postLikeCount}</button>\n              )}\n            </div>\n          </ContextWrap>\n        </Question>\n        {user_info && <Answer />}\n        <AnswerList isWriter={post_one.uid} />\n      </div>\n\n      <Postchat pid={pid} />\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  display: flex;\n  gap: 22px;\n  max-width: 1440px;\n  margin: 0 auto;\n\n  .post_wrap {\n    width: calc(100% - 342px - 22px);\n  }\n`;\n\nconst Question = styled.div`\n  background-color: #fff;\n  border-radius: 8px;\n  margin-bottom: 24px;\n  box-shadow: 0 4px 20px 0 rgba(228, 226, 242, 0.45);\n`;\n\nconst Top = styled.div`\n  padding: 30px 24px;\n  border-bottom: solid 1px #dadada;\n\n  h2 {\n    font-size: 20px;\n    word-break: break-all;\n  }\n\n  > div {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n\n  .header {\n    padding-bottom: 26px;\n\n    span {\n      cursor: pointer;\n    }\n  }\n\n  .category {\n    --cate-color: #797979;\n    font-size: 12px;\n    color: var(--cate-color);\n    border: solid 1px var(--cate-color);\n    margin-left: 10px;\n    padding: 8px 12px;\n    border-radius: 20px;\n  }\n\n  .post_info {\n    --main-color: #c4c4c4;\n    justify-content: flex-end;\n    color: var(--main-color);\n    font-weight: 700;\n\n    span {\n      vertical-align: middle;\n    }\n\n    em {\n      padding: 0 16px;\n      margin: 0 16px;\n      font-style: normal;\n      border-left: solid 1px var(--main-color);\n      border-right: solid 1px var(--main-color);\n    }\n  }\n\n  .user_info {\n    display: flex;\n    align-items: center;\n    gap: 10px;\n  }\n`;\n\nconst ContextWrap = styled.div`\n  padding: 24px;\n\n  .text-wrap {\n    min-height: 250px;\n\n    > *:not(style) {\n      margin-bottom: 10px;\n    }\n  }\n\n  p {\n    word-break: break-all;\n  }\n\n  .btn_wrap {\n    display: flex;\n    align-items: center;\n\n    ul {\n      margin-right: auto;\n    }\n\n    button {\n      padding: 10px 16px;\n      color: #7966ff;\n      font-size: 16px;\n    }\n  }\n`;\n\nconst TagUl = styled.ul`\n  --main-color: #797979;\n\n  display: inline-flex;\n  color: var(--main-color);\n  font-size: 14px;\n\n  li {\n    padding: 6px 10px;\n    margin-right: 10px;\n    border-radius: 30px;\n    border: solid 1px var(--main-color);\n    cursor: pointer;\n  }\n`;\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}