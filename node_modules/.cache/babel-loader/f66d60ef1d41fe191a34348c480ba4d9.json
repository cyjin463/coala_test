{"ast":null,"code":"var _jsxFileName = \"/Users/cyj/sun/src/page/Edituser.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Profile from \"../elements/Profile\";\nimport { actionCreators as userActions } from \"../redux/modules/user\";\nimport img_down from \"../svg/arrow_down_b.svg\";\nimport camera from \"../svg/camera_fill.svg\"; // import { ReactComponent as img_down } from \"../svg/arrow_down_b.svg\";\n// import { ReactComponent as camera } from \"../svg/camera_fill.svg\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst userNickname = sessionStorage.getItem(\"nickname\");\nconst userCareer = sessionStorage.getItem(\"career\");\nconst userImage = sessionStorage.getItem(\"userImage\");\nconst userURL = sessionStorage.getItem(\"url\");\nconst uid = sessionStorage.getItem(\"uid\");\n\nconst Edituser = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const [isCheckNickname, setIsCheckNickname] = React.useState(false);\n  const [nickname, setNickname] = useState(userNickname);\n  const [userImg, setUserImg] = useState(userImage);\n  const [blogUrl, setBlogUrl] = useState(userURL);\n  const [career, setCareer] = useState(userCareer);\n  const [careerSelect, setCareerSelect] = useState(userCareer);\n  const [nicknameRuleCheck, setNicknameRuleCheck] = React.useState(true);\n  const imgInput = React.useRef();\n  const options = [{\n    value: \"1년차 이내\",\n    name: \"1년차 이내\"\n  }, {\n    value: \"1~2년차\",\n    name: \"1~2년차\"\n  }, {\n    value: \"3~4년차\",\n    name: \"3~4년차\"\n  }, {\n    value: \"5년차 이상\",\n    name: \"5년차 이상\"\n  }];\n\n  const nicknameRule = e => {\n    const rule = /^[ㄱ-ㅎ|ㅏ-ㅣ|가-힣A-Za-z0-9]{2,8}$/;\n    const nick = e.target.value;\n    setNickname(nick);\n    rule.test(nick) ? setNicknameRuleCheck(true) : setNicknameRuleCheck(false);\n  };\n\n  const Check = () => {\n    if (userNickname === nickname) {\n      setIsCheckNickname(true);\n      window.alert(\"사용가능합니다.\");\n      return;\n    }\n\n    check();\n  };\n\n  const check = () => {\n    if (nickname === \"\") {\n      window.alert(\"닉네임이 공란입니다.\");\n      return;\n    }\n\n    dispatch(userActions.checkNicknameDB(nickname, false));\n    setIsCheckNickname(true);\n  };\n\n  const url = e => {\n    setBlogUrl(e.target.value);\n  }; ////////////////////////////////////////사진 변경\n\n\n  const editImg = () => {\n    const img = imgInput.current.files[0];\n    console.log(img);\n    const imgReader = new FileReader();\n    imgReader.readAsDataURL(img);\n\n    imgReader.onloadend = () => {\n      setUserImg(imgReader.result);\n    };\n\n    dispatch(userActions.imgPost(img));\n  }; //////////////////////////////////////////SAVE\n\n\n  const Save = () => {\n    if (userNickname === nickname && userCareer === career && userImage === userImg && userURL === blogUrl) {\n      window.alert(\"변경 사항이 없습니다.\");\n      return;\n    } else if (nickname === \"\") {\n      window.alert(\"닉네임이 공란입니다.\");\n      return;\n    } else if (isCheckNickname === false) {\n      if (userNickname === nickname) {\n        setIsCheckNickname(true);\n      } else {\n        window.alert(\"중복체크를 해주세요.\");\n        return;\n      }\n    } else if (career === \"\") {\n      window.alert(\"경력을해 주세요.\");\n      return;\n    } else if (userImg === userImage) {\n      if (window.confirm(\"수정?\")) {\n        dispatch(userActions.logEditDB(uid, nickname, career, blogUrl, userImg));\n      }\n\n      return;\n    } else if (window.confirm(\"수정?\")) {\n      dispatch(userActions.logEditDB2(uid, nickname, career, blogUrl, userImg));\n      return;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: \"\\uD504\\uB85C\\uD544 \\uD3B8\\uC9D1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"user\",\n      children: [/*#__PURE__*/_jsxDEV(ProfileImg, {\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          children: /*#__PURE__*/_jsxDEV(Profile, {\n            imgUrl: userImg,\n            size: 175\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"profile\",\n          type: \"file\",\n          hidden: true,\n          onChange: editImg,\n          ref: imgInput\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"profile\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: camera\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this), \"\\uC0AC\\uC9C4 \\uC5C5\\uB85C\\uB4DC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(EditNickname, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"\\uB2C9\\uB124\\uC784\",\n                onChange: nicknameRule,\n                value: nickname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"check\",\n                onClick: Check,\n                children: \"\\uC911\\uBCF5\\uCCB4\\uD06C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), nickname.length > 0 && !nicknameRuleCheck && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"rule\",\n              children: \" *\\uB2C9\\uB124\\uC784 \\uD615\\uC2DD\\uC774 \\uB9DE\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EditBlog, {\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"blog\",\n            placeholder: \"sns \\uACC4\\uC815 url \\uAE30\\uC785\",\n            onChange: url,\n            value: userURL === \"undefined\" ? \"\" : blogUrl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(EditCareer, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              onClick: () => setCareerSelect(!careerSelect),\n              children: career\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 15\n            }, this), careerSelect === true ? /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [options.map((v, idx) => /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => {\n                  setCareer(v.name);\n                  setCareerSelect(false);\n                },\n                children: v.name\n              }, idx, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 21\n              }, this)), career]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            onClick: () => setCareerSelect(!careerSelect),\n            src: img_down\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"save\",\n          onClick: Save,\n          children: \"\\uC800\\uC7A5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Edituser, \"Opy6cPJ3Vr3xImMVryihbqovmUo=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Edituser;\nconst Container = styled.div`\n  width: 1440px;\n  height: 830px;\n  margin: auto;\n  > div.title {\n    width: 116px;\n    height: 35px;\n    font-size: 24px;\n    font-weight: 600;\n  }\n  > div.user {\n    width: 830px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: auto;\n    > div.container {\n      width: 500px;\n      height: 312px;\n      margin: auto;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      > button {\n        width: 100%;\n        height: 72px;\n        background-color: #5e45f2;\n        color: white;\n        border-radius: 0.5rem;\n      }\n    }\n  }\n`;\n_c2 = Container;\nconst ProfileImg = styled.div`\n  width: 350px;\n  height: 400px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  > i {\n    width: 175px;\n    height: 175px;\n    margin-bottom: 1.5rem;\n  }\n  > label {\n    display: flex;\n    width: 135px;\n    height: 40px;\n    padding: 0 8px;\n    border: 2px solid #7966ff;\n    border-radius: 0.5rem;\n    font-size: 16px;\n    font-weight: 600;\n    justify-content: space-around;\n    align-items: center;\n    color: #7966ff;\n  }\n`;\n_c3 = ProfileImg;\nconst EditNickname = styled.div`\n  width: 500px;\n  height: 72px;\n  display: flex;\n  text-align: center;\n  justify-content: space-between;\n  display: flex;\n  flex-direction: column;\n  div {\n    width: 100%;\n    height: 72px;\n    display: flex;\n    flex-direction: column-reverse;\n    > span.rule {\n      color: red;\n      font-size: 12px;\n      position: absolute;\n      justify-content: start;\n      padding-left: 15px;\n    }\n    > div {\n      width: 100%;\n      height: 72px;\n      display: flex;\n      flex-direction: row;\n      position: relative;\n      justify-content: end;\n      align-items: center;\n      background-color: #f9f8ff;\n      border-radius: 0.5rem;\n      padding: 15px;\n      > input {\n        width: 100%;\n        height: 72px;\n        border-radius: 0.5rem;\n        font-size: 16px;\n        font-weight: 600;\n        outline: 0;\n        background-color: #f9f8ff;\n      }\n      > button {\n        width: 76px;\n        height: 32px;\n        background-color: #7966ff;\n        color: white;\n        border-radius: 32px;\n        position: absolute;\n        margin-right: 20px;\n      }\n    }\n  }\n`;\n_c4 = EditNickname;\nconst EditBlog = styled.div`\n  width: 500px;\n  > input {\n    width: 100%;\n    height: 72px;\n    border-radius: 0.5rem;\n    border: 0px solid black;\n    margin: auto;\n    font-size: 16px;\n    outline: 0;\n    background-color: #f9f8ff;\n    font-size: 16px;\n    font-weight: 600;\n  }\n`;\n_c5 = EditBlog;\nconst EditCareer = styled.div`\n  width: 500px;\n  display: flex;\n  position: relative;\n  justify-content: end;\n  align-items: center;\n  div {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    > span {\n      width: 100%;\n      height: 72px;\n      line-height: 72px;\n      padding: 0 16px;\n      border-radius: 8px;\n      background-color: #f9f8ff;\n      cursor: pointer;\n      color: #7966ff;\n      font-size: 16px;\n      font-weight: 600;\n    }\n    > ul {\n      width: 100%;\n      height: 72px;\n      border-radius: 0.5rem;\n      border: 0px;\n      position: absolute;\n      margin-top: 80px;\n      > li {\n        display: flex;\n        width: 100%;\n        height: 72px;\n        font-size: 16px;\n        font-weight: 600;\n        padding-left: 10px;\n        background-color: #f9f8ff;\n        align-items: center;\n        justify-content: start;\n        cursor: pointer;\n        &:hover {\n          background-color: #5e45f2;\n          color: #f9f8ff;\n        }\n      }\n    }\n  }\n  > img {\n    width: 50px;\n    height: 50px;\n    position: absolute;\n  }\n`;\n_c6 = EditCareer;\nexport default Edituser;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Edituser\");\n$RefreshReg$(_c2, \"Container\");\n$RefreshReg$(_c3, \"ProfileImg\");\n$RefreshReg$(_c4, \"EditNickname\");\n$RefreshReg$(_c5, \"EditBlog\");\n$RefreshReg$(_c6, \"EditCareer\");","map":{"version":3,"sources":["/Users/cyj/sun/src/page/Edituser.js"],"names":["React","useState","useDispatch","useSelector","styled","Profile","actionCreators","userActions","img_down","camera","userNickname","sessionStorage","getItem","userCareer","userImage","userURL","uid","Edituser","props","dispatch","isCheckNickname","setIsCheckNickname","nickname","setNickname","userImg","setUserImg","blogUrl","setBlogUrl","career","setCareer","careerSelect","setCareerSelect","nicknameRuleCheck","setNicknameRuleCheck","imgInput","useRef","options","value","name","nicknameRule","e","rule","nick","target","test","Check","window","alert","check","checkNicknameDB","url","editImg","img","current","files","console","log","imgReader","FileReader","readAsDataURL","onloadend","result","imgPost","Save","confirm","logEditDB","logEditDB2","length","map","v","idx","Container","div","ProfileImg","EditNickname","EditBlog","EditCareer"],"mappings":"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AAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAzBA;MAAMC,U;AA2BN,MAAMC,YAAY,GAAGtE,MAAM,CAACoE,GAAI;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAnDA;MAAME,Y;AAqDN,MAAMC,QAAQ,GAAGvE,MAAM,CAACoE,GAAI;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAdA;MAAMG,Q;AAgBN,MAAMC,UAAU,GAAGxE,MAAM,CAACoE,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CApDA;MAAMI,U;AAsDN,eAAe3D,QAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styled from \"styled-components\";\nimport Profile from \"../elements/Profile\";\nimport { actionCreators as userActions } from \"../redux/modules/user\";\nimport img_down from \"../svg/arrow_down_b.svg\";\nimport camera from \"../svg/camera_fill.svg\";\n// import { ReactComponent as img_down } from \"../svg/arrow_down_b.svg\";\n// import { ReactComponent as camera } from \"../svg/camera_fill.svg\";\n\nconst userNickname = sessionStorage.getItem(\"nickname\");\nconst userCareer = sessionStorage.getItem(\"career\");\nconst userImage = sessionStorage.getItem(\"userImage\");\nconst userURL = sessionStorage.getItem(\"url\");\nconst uid = sessionStorage.getItem(\"uid\");\n\nconst Edituser = (props) => {\n  const dispatch = useDispatch();\n  const [isCheckNickname, setIsCheckNickname] = React.useState(false);\n  const [nickname, setNickname] = useState(userNickname);\n  const [userImg, setUserImg] = useState(userImage);\n  const [blogUrl, setBlogUrl] = useState(userURL);\n  const [career, setCareer] = useState(userCareer);\n  const [careerSelect, setCareerSelect] = useState(userCareer);\n  const [nicknameRuleCheck, setNicknameRuleCheck] = React.useState(true);\n  const imgInput = React.useRef();\n  const options = [\n    { value: \"1년차 이내\", name: \"1년차 이내\" },\n    { value: \"1~2년차\", name: \"1~2년차\" },\n    { value: \"3~4년차\", name: \"3~4년차\" },\n    { value: \"5년차 이상\", name: \"5년차 이상\" },\n  ];\n\n  const nicknameRule = (e) => {\n    const rule = /^[ㄱ-ㅎ|ㅏ-ㅣ|가-힣A-Za-z0-9]{2,8}$/;\n    const nick = e.target.value;\n    setNickname(nick);\n    rule.test(nick) ? setNicknameRuleCheck(true) : setNicknameRuleCheck(false);\n  };\n\n  const Check = () => {\n    if (userNickname === nickname) {\n      setIsCheckNickname(true);\n      window.alert(\"사용가능합니다.\");\n      return;\n    }\n    check();\n  };\n\n  const check = () => {\n    if (nickname === \"\") {\n      window.alert(\"닉네임이 공란입니다.\");\n      return;\n    }\n    dispatch(userActions.checkNicknameDB(nickname, false));\n    setIsCheckNickname(true);\n  };\n\n  const url = (e) => {\n    setBlogUrl(e.target.value);\n  };\n\n  ////////////////////////////////////////사진 변경\n  const editImg = () => {\n    const img = imgInput.current.files[0];\n    console.log(img);\n    const imgReader = new FileReader();\n    imgReader.readAsDataURL(img);\n    imgReader.onloadend = () => {\n      setUserImg(imgReader.result);\n    };\n    dispatch(userActions.imgPost(img));\n  };\n  //////////////////////////////////////////SAVE\n\n  const Save = () => {\n    if (\n      userNickname === nickname &&\n      userCareer === career &&\n      userImage === userImg &&\n      userURL === blogUrl\n    ) {\n      window.alert(\"변경 사항이 없습니다.\");\n      return;\n    } else if (nickname === \"\") {\n      window.alert(\"닉네임이 공란입니다.\");\n      return;\n    } else if (isCheckNickname === false) {\n      if (userNickname === nickname) {\n        setIsCheckNickname(true);\n      } else {\n        window.alert(\"중복체크를 해주세요.\");\n        return;\n      }\n    } else if (career === \"\") {\n      window.alert(\"경력을해 주세요.\");\n      return;\n    } else if (userImg === userImage) {\n      if (window.confirm(\"수정?\")) {\n        dispatch(\n          userActions.logEditDB(uid, nickname, career, blogUrl, userImg)\n        );\n      }\n      return;\n    } else if (window.confirm(\"수정?\")) {\n      dispatch(userActions.logEditDB2(uid, nickname, career, blogUrl, userImg));\n      return;\n    }\n  };\n\n  return (\n    <Container>\n      <div className='title'>프로필 편집</div>\n      <div className='user'>\n        <ProfileImg>\n          <i>\n            <Profile imgUrl={userImg} size={175} />\n          </i>\n          <input\n            id='profile'\n            type='file'\n            hidden={true}\n            onChange={editImg}\n            ref={imgInput}\n          />\n          <label htmlFor='profile'>\n            <img src={camera} />\n            사진 업로드\n          </label>\n        </ProfileImg>\n        <div className='container'>\n          <EditNickname>\n            <div>\n              <div>\n                <input\n                  placeholder='닉네임'\n                  onChange={nicknameRule}\n                  value={nickname}></input>\n                <button className='check' onClick={Check}>\n                  중복체크\n                </button>\n              </div>\n              {nickname.length > 0 && !nicknameRuleCheck && (\n                <span className='rule'> *닉네임 형식이 맞지 않습니다. </span>\n              )}\n            </div>\n          </EditNickname>\n\n          <EditBlog>\n            <input\n              className='blog'\n              placeholder='sns 계정 url 기입'\n              onChange={url}\n              value={userURL === \"undefined\" ? \"\" : blogUrl}></input>\n          </EditBlog>\n          <EditCareer>\n            <div>\n              <span onClick={() => setCareerSelect(!careerSelect)}>\n                {career}\n              </span>\n              {careerSelect === true ? (\n                <ul>\n                  {options.map((v, idx) => (\n                    <li\n                      key={idx}\n                      onClick={() => {\n                        setCareer(v.name);\n                        setCareerSelect(false);\n                      }}>\n                      {v.name}\n                    </li>\n                  ))}\n                  {career}\n                </ul>\n              ) : null}\n            </div>\n            <img\n              onClick={() => setCareerSelect(!careerSelect)}\n              src={img_down}></img>\n          </EditCareer>\n          <button className='save' onClick={Save}>\n            저장\n          </button>\n        </div>\n      </div>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  width: 1440px;\n  height: 830px;\n  margin: auto;\n  > div.title {\n    width: 116px;\n    height: 35px;\n    font-size: 24px;\n    font-weight: 600;\n  }\n  > div.user {\n    width: 830px;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    margin: auto;\n    > div.container {\n      width: 500px;\n      height: 312px;\n      margin: auto;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      > button {\n        width: 100%;\n        height: 72px;\n        background-color: #5e45f2;\n        color: white;\n        border-radius: 0.5rem;\n      }\n    }\n  }\n`;\nconst ProfileImg = styled.div`\n  width: 350px;\n  height: 400px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  > i {\n    width: 175px;\n    height: 175px;\n    margin-bottom: 1.5rem;\n  }\n  > label {\n    display: flex;\n    width: 135px;\n    height: 40px;\n    padding: 0 8px;\n    border: 2px solid #7966ff;\n    border-radius: 0.5rem;\n    font-size: 16px;\n    font-weight: 600;\n    justify-content: space-around;\n    align-items: center;\n    color: #7966ff;\n  }\n`;\n\nconst EditNickname = styled.div`\n  width: 500px;\n  height: 72px;\n  display: flex;\n  text-align: center;\n  justify-content: space-between;\n  display: flex;\n  flex-direction: column;\n  div {\n    width: 100%;\n    height: 72px;\n    display: flex;\n    flex-direction: column-reverse;\n    > span.rule {\n      color: red;\n      font-size: 12px;\n      position: absolute;\n      justify-content: start;\n      padding-left: 15px;\n    }\n    > div {\n      width: 100%;\n      height: 72px;\n      display: flex;\n      flex-direction: row;\n      position: relative;\n      justify-content: end;\n      align-items: center;\n      background-color: #f9f8ff;\n      border-radius: 0.5rem;\n      padding: 15px;\n      > input {\n        width: 100%;\n        height: 72px;\n        border-radius: 0.5rem;\n        font-size: 16px;\n        font-weight: 600;\n        outline: 0;\n        background-color: #f9f8ff;\n      }\n      > button {\n        width: 76px;\n        height: 32px;\n        background-color: #7966ff;\n        color: white;\n        border-radius: 32px;\n        position: absolute;\n        margin-right: 20px;\n      }\n    }\n  }\n`;\n\nconst EditBlog = styled.div`\n  width: 500px;\n  > input {\n    width: 100%;\n    height: 72px;\n    border-radius: 0.5rem;\n    border: 0px solid black;\n    margin: auto;\n    font-size: 16px;\n    outline: 0;\n    background-color: #f9f8ff;\n    font-size: 16px;\n    font-weight: 600;\n  }\n`;\n\nconst EditCareer = styled.div`\n  width: 500px;\n  display: flex;\n  position: relative;\n  justify-content: end;\n  align-items: center;\n  div {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    > span {\n      width: 100%;\n      height: 72px;\n      line-height: 72px;\n      padding: 0 16px;\n      border-radius: 8px;\n      background-color: #f9f8ff;\n      cursor: pointer;\n      color: #7966ff;\n      font-size: 16px;\n      font-weight: 600;\n    }\n    > ul {\n      width: 100%;\n      height: 72px;\n      border-radius: 0.5rem;\n      border: 0px;\n      position: absolute;\n      margin-top: 80px;\n      > li {\n        display: flex;\n        width: 100%;\n        height: 72px;\n        font-size: 16px;\n        font-weight: 600;\n        padding-left: 10px;\n        background-color: #f9f8ff;\n        align-items: center;\n        justify-content: start;\n        cursor: pointer;\n        &:hover {\n          background-color: #5e45f2;\n          color: #f9f8ff;\n        }\n      }\n    }\n  }\n  > img {\n    width: 50px;\n    height: 50px;\n    position: absolute;\n  }\n`;\n\nexport default Edituser;\n"]},"metadata":{},"sourceType":"module"}